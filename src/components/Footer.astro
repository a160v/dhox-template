---
/**
 * Global Footer Component
 * Shows breadcrumb navigation (top) and datetime (centered bottom)
 * Excluded from homepage
 */

interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  breadcrumbs?: BreadcrumbItem[];
}

const { breadcrumbs = [] } = Astro.props;
---

<footer class="site-footer">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    {
      breadcrumbs.map((item, index) => (
        <>
          {index > 0 && <span class="separator">›</span>}
          {item.href ? (
            <a href={item.href}>{item.label}</a>
          ) : (
            <span class="current" aria-current="page">
              {item.label}
            </span>
          )}
        </>
      ))
    }
  </nav>

  <div class="date-container">
    <p>
      À Paris, il est {
        new Date().toLocaleTimeString("fr-FR", {
          hour: "2-digit",
          minute: "2-digit",
        })
      } du {
        new Date().toLocaleDateString("fr-FR", {
          day: "numeric",
          month: "long",
          year: "numeric",
        })
      }
    </p>
  </div>
</footer>

<style>
  .site-footer {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4) var(--space-6);
    margin-top: var(--space-12);
    border-top: 1px solid var(--color-border);
    max-width: var(--max-width);
    margin-left: auto;
    margin-right: auto;
  }

  .breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
  }

  .breadcrumb a {
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .breadcrumb a:hover {
    color: var(--color-accent);
  }

  .breadcrumb .separator {
    opacity: 0.5;
    font-size: var(--text-xs);
  }

  .breadcrumb .current {
    color: var(--color-text);
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
  }

  .date-container {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    text-align: center;
  }

  .date-container p {
    margin: 0;
    font-style: italic;
  }

  @media (max-width: 640px) {
    .breadcrumb .current {
      max-width: 150px;
    }
  }
</style>
